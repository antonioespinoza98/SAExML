install.packages('tidyverse')
install.packages('sae')
library(sae)
data("incomedata")
data("sizeprov")
n <- dim(incomedata)[1]
n
D <- length(unique(prov))
D <- length(unique(sizeprov$prov))
D
nd <- as.vector(table(prov))
nd <- as.vector(table(sizeprov$prov))
nd
Nd <- sizeprov$Nd
Nd
0.6*median(incomedata$income)
gc()
gc()
z <- 0.6*median(incomedata$income)
poor <- numeric(n)
poor[incomedata$income]
z <- 0.6*median(incomedata$income)
poor <- numeric(n)
poor[incomedata$income < z] <- 1
attach(incomedata)
provinc.dir.res <- direct(y = poor, dom = prov, sweight = weight, domsize = sizeprov[,-1])
print(provinc.dir.res, row.names = F)
provinc.dir <- provinc.dir.res$Direct
provinc.dir.cv <- provinc.dir.res$CV
sum(provinc.dir.cv > 20)
head(incomedata)
?data
data()
data(package = .packages(all.available = TRUE))
write.csv(incomedata, "Documents\sae\incomedata.csv", row.names=FALSE)
write.csv(incomedata, "Documents/sae/incomedata.csv", row.names=FALSE)
write.csv(incomedata, "C:\Users\mespinoza\Documents\sae\datos", row.names=FALSE)
write.csv(incomedata, "C:\Users\mespinoza\Documents\sae\datos.csv", row.names=FALSE)
write.csv(incomedata, "C:/Users/mespinoza/Documents/sae/datos.csv", row.names=FALSE)
write.csv(incomedata, "C:/Users/mespinoza/Documents/sae/datos/incomedata.csv", row.names=FALSE)
write.csv(sizeprov, "C:/Users/mespinoza/Documents/sae/datos/sizeprov.csv", row.names=FALSE)
data("Xoutsamp")
data(Xoutsamp)
data(package = .packages(all.available = TRUE))
data("Xoutsamp")
library(sae)
data("Xoutsamp")
write.csv(Xoutsamp, "C:/Users/mespinoza/Documents/sae/datos/Xoutsamp.csv", row.names=FALSE)
rm(list = ls())
#########################################################################
# Advanced Small Area Estimation
#
# Author:    Prof. Dr. Timo Schmid
# Content:   Mixed effect random forests for means
#########################################################################
rm(list=ls())
### Install package
devtools::install_github("krennpa/SAEforest", force = TRUE)
library(SAEforest)
library(caret)
### Loading data - population and sample data-----------------------------------
data("eusilcA_pop")
data("eusilcA_smp")
#########################################################################
# Advanced Small Area Estimation
#
# Author:    Prof. Dr. Timo Schmid
# Content:   Mixed effect random forests for means
#########################################################################
rm(list=ls())
### Load packages
library(SAEforest)
library(caret)
encuesta = load('encuesta_df_agg.Rdata')
setwd("~/SAE x ML/Papers/SAERF - Timo krennmair/R scripts")
encuesta = load('encuesta_df_agg.Rdata')
load('encuesta_df_agg.Rdata')
load("~/SAE x ML/Papers/SAERF - Timo krennmair/R scripts/encuesta.Rdata")
load("~/SAE x ML/Papers/SAERF - Timo krennmair/R scripts/censo.Rdata")
View(encuesta_df_agg)
View(encuesta)
View(censo_mrp)
